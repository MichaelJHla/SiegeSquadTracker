<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Siege Squad Tracker</title>
</head>

<body>
    <div id="welcome">

    </div>

    <div id="new-user">
        <h2>New User Sign Up</h2>
        <input type="radio" id="xbox" value="xbox" name="platform">
        <label for="xbox">Xbox</label>

        <input type="radio" id="playstation" value="playstation" name="platform">
        <label for="playstation">PlayStation</label>
        
        <input type="radio" id="pc" value="pc" name="platform">
        <label for="pc">PC</label>

        <br />

        <label for="platform-username">Platform name</label>
        <input id="platform-username">

        <label for="signup-email">Email</label>
        <input id="signup-email">

        <label for="signup-password">Password</label>
        <input type="password" id="signup-password">

        <button id="signup-button" onclick="newUser()">Sign Up</button>
    </div>

    <div id="sign-in">
        <h2>Sign In</h2>
        <label for="login-email">Email</label>
        <input id="login-email">

        <label for="login-password">Password</label>
        <input type="password" id="login-password">

        <button id="login-button" onclick="logIn()">Log In</button>
    </div>

    <div id="sign-out">
        <button id="sign-out-button" onclick="signOut()">Sign Out</button>
    </div>

    <!--All scripts below here-->
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <!-- Database CDN -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>
    <!-- Authentication CDN -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
    <!--Configuration information for firebase-->
    <script src="scripts/firebaseConfig.js"></script>
    <!--jQuery import-->
    <script src="scripts/jquery.js"></script>

    <script src="scripts/global.js"></script>

    <script>
        console.log(auth);

        function newUser() {
            var email = $('#signup-email').val();
            var password = $('#signup-password').val();
            var platform = document.querySelector('input[name="platform"]:checked').value;
            var username = $('#platform-username').val();

            //Sign up the new user
            auth.createUserWithEmailAndPassword(email, password).then(cred => {
                console.log(cred);
            });
        }

        function logIn() {
            var email = $('#login-email').val();
            var password = $('#login-password').val();

            auth.signInWithEmailAndPassword(email, password).then(cred => {
                console.log(cred);
            });
        }

        function signOut() {
            auth.signOut().then(() => {
                console.log("User signed out");
            });
        }
    </script>
</body>
</html>